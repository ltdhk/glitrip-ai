# GliTrip AIæ—…è¡Œè§„åˆ’åŠŸèƒ½

> ä½¿ç”¨Google Gemini AIä¸ºGliTripåº”ç”¨æ·»åŠ æ™ºèƒ½æ—…è¡Œè§„åˆ’åŠŸèƒ½

## ğŸ“– æ¦‚è¿°

æœ¬é¡¹ç›®ä¸ºGliTripæ—…è¡Œè§„åˆ’åº”ç”¨æ·»åŠ äº†å®Œæ•´çš„AIé©±åŠ¨è¡Œç¨‹è§„åˆ’åŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š
- ğŸ¤– AIè‡ªåŠ¨ç”Ÿæˆç›®çš„åœ°æè¿°ã€æ ‡ç­¾ã€æ¯æ—¥è¡Œç¨‹ã€æ‰“åŒ…æ¸…å•å’Œå¾…åŠäº‹é¡¹
- ğŸ” è‡ªå®šä¹‰JWTç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- ğŸ“Š ä½¿ç”¨é…é¢ç®¡ç†ï¼ˆå…è´¹ç”¨æˆ·3æ¬¡/å¹´ï¼ŒVIPç”¨æˆ·1000æ¬¡/å¹´ï¼‰
- ğŸ’ VIPä¼šå‘˜å‡çº§åŠŸèƒ½
- ğŸŒ å®Œæ•´çš„åç«¯APIå’ŒFlutterå‰ç«¯é›†æˆ

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### 1. AIæ™ºèƒ½è§„åˆ’
ç”¨æˆ·è¾“å…¥ç›®çš„åœ°åç§°ã€é¢„ç®—ç­‰çº§å’Œæ—…è¡Œæ—¥æœŸï¼ŒAIè‡ªåŠ¨ç”Ÿæˆï¼š
- **Tagline**: å¸å¼•äººçš„ç›®çš„åœ°æ ‡è¯­
- **Tags**: 3ä¸ªç›¸å…³æ ‡ç­¾ï¼ˆå¦‚"ç¾é£Ÿ"ã€"æ–‡åŒ–"ã€"è´­ç‰©"ï¼‰
- **Description**: è¯¦ç»†çš„ç›®çš„åœ°ä»‹ç»
- **Daily Itineraries**: æ¯æ—¥è¯¦ç»†è¡Œç¨‹å®‰æ’
- **Packing Items**: æ™ºèƒ½æ‰“åŒ…æ¸…å•
- **Todo Items**: è¡Œå‰å‡†å¤‡å¾…åŠäº‹é¡¹

### 2. ç”¨æˆ·è®¤è¯
- é‚®ç®±å¯†ç æ³¨å†Œ/ç™»å½•
- JWT Tokenè®¤è¯
- Tokenè‡ªåŠ¨å­˜å‚¨å’ŒæŒä¹…åŒ–
- å®‰å…¨çš„å¯†ç åŠ å¯†ï¼ˆbcryptï¼‰

### 3. é…é¢ç®¡ç†
- å…è´¹ç”¨æˆ·ï¼š3æ¬¡AIç”Ÿæˆ/å¹´
- VIPç”¨æˆ·ï¼š1000æ¬¡AIç”Ÿæˆ/å¹´
- åŸå­æ€§é…é¢æ‰£å‡ï¼ˆäº‹åŠ¡æ”¯æŒï¼‰
- å®æ—¶é…é¢æ˜¾ç¤º

### 4. VIPä¼šå‘˜
- åŠŸèƒ½å¯¹æ¯”å±•ç¤º
- ä½¿ç”¨ç»Ÿè®¡ä»ªè¡¨æ¿
- å‡çº§æµç¨‹ï¼ˆå¾…é›†æˆæ”¯ä»˜ï¼‰

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Flutter Frontend                    â”‚
â”‚  Riverpod State Management + Clean Architecture      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚ JWT + HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Backend API (Node.js)                    â”‚
â”‚  Express + TypeScript + Clean Architecture           â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                                     â”‚
â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Supabase    â”‚                   â”‚   Gemini API     â”‚
â”‚  PostgreSQL   â”‚                   â”‚ (1.5 Flash)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
GlitripAI/
â”œâ”€â”€ Backend/                    # åç«¯API
â”‚   â”œâ”€â”€ functions/
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ config/        # é…ç½®ï¼ˆSupabase, Gemini, JWTï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ services/      # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth/      # JWTè®¤è¯æœåŠ¡
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ai/        # Geminié›†æˆ
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ user/      # ç”¨æˆ·å’Œé…é¢ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ index.ts       # APIå…¥å£ï¼ˆ13ä¸ªç«¯ç‚¹ï¼‰
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”œâ”€â”€ supabase/
â”‚   â”‚   â””â”€â”€ migrations/        # æ•°æ®åº“Schema
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ DEPLOYMENT.md
â”‚   â””â”€â”€ IMPLEMENTATION_GUIDE.md
â”‚
â”œâ”€â”€ App/                        # Flutterå‰ç«¯
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”‚   â””â”€â”€ api_config.dart
â”‚   â”‚   â”œâ”€â”€ features/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/          # è®¤è¯åŠŸèƒ½ï¼ˆç™»å½•/æ³¨å†Œï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ ai_planning/   # AIè§„åˆ’åŠŸèƒ½
â”‚   â”‚   â”‚   â”œâ”€â”€ subscription/  # VIPè®¢é˜…
â”‚   â”‚   â”‚   â””â”€â”€ destinations/  # ç›®çš„åœ°ç®¡ç†
â”‚   â”‚   â””â”€â”€ main.dart
â”‚   â”œâ”€â”€ FLUTTER_AI_INTEGRATION_GUIDE.md
â”‚   â””â”€â”€ INTEGRATION_CHECKLIST.md
â”‚
â”œâ”€â”€ QUICK_START.md              # å¿«é€Ÿå¼€å§‹æŒ‡å—
â”œâ”€â”€ IMPLEMENTATION_SUMMARY.md   # å®ç°æ€»ç»“
â””â”€â”€ AI_FEATURE_README.md        # æœ¬æ–‡ä»¶
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Node.js 20+
- Flutter 3.13+
- Supabaseè´¦å·
- Google AI Studioè´¦å·ï¼ˆGemini APIï¼‰

### 5åˆ†é’Ÿå¯åŠ¨

1. **é…ç½®åç«¯**
   ```bash
   cd Backend/functions
   cp .env.example .env
   # ç¼–è¾‘ .env å¡«å…¥å¯†é’¥
   npm install
   npm run dev
   ```

2. **é…ç½®å‰ç«¯**
   ```bash
   cd App
   flutter pub get
   flutter run
   ```

3. **æµ‹è¯•åŠŸèƒ½**
   - æ³¨å†Œæ–°ç”¨æˆ·
   - æ·»åŠ ç›®çš„åœ°
   - ä½¿ç”¨AIè§„åˆ’è¡Œç¨‹

è¯¦ç»†æ­¥éª¤è¯·æŸ¥çœ‹ [å¿«é€Ÿå¼€å§‹æŒ‡å—](QUICK_START.md)

## ğŸ“š æ–‡æ¡£å¯¼èˆª

### å¼€å§‹ä½¿ç”¨
- ğŸ“– [å¿«é€Ÿå¼€å§‹æŒ‡å—](QUICK_START.md) - 5åˆ†é’Ÿå¿«é€Ÿå¯åŠ¨
- âœ… [é›†æˆæ¸…å•](App/INTEGRATION_CHECKLIST.md) - å®Œæ•´çš„é›†æˆæ­¥éª¤

### å¼€å‘æ–‡æ¡£
- ğŸ”§ [Flutteré›†æˆæŒ‡å—](App/FLUTTER_AI_INTEGRATION_GUIDE.md) - å‰ç«¯è¯¦ç»†æ–‡æ¡£
- ğŸ–¥ï¸ [åç«¯APIæ–‡æ¡£](Backend/functions/README.md) - APIç«¯ç‚¹è¯´æ˜
- ğŸ—ï¸ [å®ç°æŒ‡å—](Backend/IMPLEMENTATION_GUIDE.md) - åç«¯æ¶æ„è¯¦è§£

### éƒ¨ç½²æ–‡æ¡£
- ğŸš€ [éƒ¨ç½²æŒ‡å—](Backend/DEPLOYMENT.md) - ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
- ğŸ“Š [å®ç°æ€»ç»“](IMPLEMENTATION_SUMMARY.md) - é¡¹ç›®æ€»è§ˆ

## ğŸ¯ åŠŸèƒ½æ¸…å•

### âœ… å·²å®Œæˆ
- [x] æ•°æ®åº“è®¾è®¡å’Œè¿ç§»
- [x] åç«¯APIï¼ˆ13ä¸ªç«¯ç‚¹ï¼‰
- [x] JWTè®¤è¯ç³»ç»Ÿ
- [x] Gemini AIé›†æˆ
- [x] é…é¢ç®¡ç†ç³»ç»Ÿ
- [x] Flutterè®¤è¯UI
- [x] AIè§„åˆ’UIç»„ä»¶
- [x] VIPå‡çº§é¡µé¢
- [x] å®Œæ•´æ–‡æ¡£

### ğŸ”„ æ¨èå®ç°
- [ ] æ‰‹åŠ¨é›†æˆAIæŒ‰é’®åˆ°add_destination_page
- [ ] ä¿å­˜AIè¯¦ç»†æ•°æ®åˆ°æœ¬åœ°æ•°æ®åº“
- [ ] Tokenè‡ªåŠ¨åˆ·æ–°æœºåˆ¶
- [ ] æ”¯ä»˜é›†æˆï¼ˆVIPå‡çº§ï¼‰

### ğŸ’¡ æœªæ¥å¢å¼º
- [ ] AIç”Ÿæˆå†å²é¡µé¢
- [ ] ç”Ÿæˆç»“æœé¢„è§ˆå’Œç¼–è¾‘
- [ ] å¤šè¯­è¨€AIç”Ÿæˆ
- [ ] ç¦»çº¿æ¨¡å¼æ”¯æŒ

## ğŸ”Œ APIç«¯ç‚¹

### è®¤è¯
- `POST /api/v1/auth/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /api/v1/auth/login` - ç”¨æˆ·ç™»å½•
- `GET /api/v1/auth/me` - è·å–å½“å‰ç”¨æˆ·
- `POST /api/v1/auth/refresh` - åˆ·æ–°Token

### AIè§„åˆ’
- `POST /api/v1/ai/generate-plan` - ç”ŸæˆAIè§„åˆ’
- `GET /api/v1/ai/usage` - æŸ¥çœ‹ä½¿ç”¨æƒ…å†µ
- `GET /api/v1/ai/history` - ç”Ÿæˆå†å²è®°å½•

### è®¢é˜…
- `GET /api/v1/subscriptions/current` - å½“å‰è®¢é˜…
- `POST /api/v1/subscriptions/upgrade` - å‡çº§VIP
- `POST /api/v1/subscriptions/cancel` - å–æ¶ˆè®¢é˜…

å®Œæ•´APIæ–‡æ¡£: [Backend README](Backend/functions/README.md)

## ğŸ’¾ æ•°æ®åº“æ¶æ„

### users - ç”¨æˆ·è¡¨
```sql
id, email, password_hash, display_name,
subscription_type, subscription_start_date, subscription_end_date
```

### subscriptions - è®¢é˜…å†å²
```sql
id, user_id, subscription_type, start_date, end_date,
status, payment_info
```

### user_usage - ä½¿ç”¨é…é¢
```sql
id, user_id, ai_generations_count, ai_generations_limit, year_period
```

### ai_generations - AIç”Ÿæˆè®°å½•
```sql
id, user_id, destination_name, budget_level,
start_date, end_date, generated_content
```

## ğŸ” å®‰å…¨ç‰¹æ€§

- âœ… JWT Tokenè®¤è¯
- âœ… bcryptå¯†ç åŠ å¯†
- âœ… HTTPSå¼ºåˆ¶ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- âœ… CORSé…ç½®
- âœ… SQLæ³¨å…¥é˜²æŠ¤
- âœ… è¾“å…¥éªŒè¯
- â³ APIé€Ÿç‡é™åˆ¶ï¼ˆæ¨èï¼‰
- â³ TokenåŠ å¯†å­˜å‚¨ï¼ˆæ¨èï¼‰

## ğŸ“Š ä½¿ç”¨é…é¢

| ç”¨æˆ·ç±»å‹ | AIç”Ÿæˆæ¬¡æ•° | å‘¨æœŸ | ä»·æ ¼ |
|---------|-----------|------|------|
| å…è´¹ç”¨æˆ· | 3æ¬¡ | å¹´ | å…è´¹ |
| VIPç”¨æˆ· | 1000æ¬¡ | å¹´ | Â¥99/å¹´ |

## ğŸ¨ UIæˆªå›¾

### ç™»å½•é¡µé¢
- é‚®ç®±/å¯†ç ç™»å½•
- æ³¨å†Œé“¾æ¥
- é”™è¯¯æç¤º

### AIè§„åˆ’åŠŸèƒ½
- ä¸€é”®ç”ŸæˆæŒ‰é’®
- é…é¢æ˜¾ç¤º
- ç”Ÿæˆè¿›åº¦å¯¹è¯æ¡†
- è‡ªåŠ¨å¡«å……è¡¨å•

### VIPå‡çº§é¡µé¢
- åŠŸèƒ½å¯¹æ¯”è¡¨
- ä½¿ç”¨ç»Ÿè®¡
- ä»·æ ¼å±•ç¤º
- å‡çº§æŒ‰é’®

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- **è¿è¡Œæ—¶**: Node.js 20
- **è¯­è¨€**: TypeScript 5.7
- **æ¡†æ¶**: Express 4.21
- **æ•°æ®åº“**: Supabase PostgreSQL
- **AI**: Google Gemini 1.5 Flash
- **è®¤è¯**: jsonwebtoken + bcryptjs
- **éƒ¨ç½²**: Google Cloud Functions

### å‰ç«¯
- **æ¡†æ¶**: Flutter 3.13+
- **è¯­è¨€**: Dart 3.1+
- **çŠ¶æ€ç®¡ç†**: Riverpod 2.4.9
- **HTTP**: http 1.2.0
- **å­˜å‚¨**: SharedPreferences

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

- APIå“åº”æ—¶é—´: < 2ç§’ï¼ˆAIç”Ÿæˆé™¤å¤–ï¼‰
- AIç”Ÿæˆæ—¶é—´: 10-30ç§’
- æ•°æ®åº“æŸ¥è¯¢: < 100ms
- åº”ç”¨å¯åŠ¨: < 3ç§’

## ğŸ’° æˆæœ¬ä¼°ç®—

### æœˆè´¹ç”¨ï¼ˆä¼°ç®—ï¼‰
- Google Cloud Functions: $5-20
- Supabase: $0-25ï¼ˆPro planï¼‰
- Gemini API: $10-100ï¼ˆæŒ‰ä½¿ç”¨é‡ï¼‰
- **æ€»è®¡**: $15-145/æœˆ

## ğŸ§ª æµ‹è¯•

### å•å…ƒæµ‹è¯•
```bash
# åç«¯
cd Backend/functions
npm test

# å‰ç«¯
cd App
flutter test
```

### é›†æˆæµ‹è¯•
å‚è§ [é›†æˆæ¸…å•](App/INTEGRATION_CHECKLIST.md)

## ğŸ¤ è´¡çŒ®

æœ¬é¡¹ç›®ç”±AIåŠ©æ‰‹ååŠ©å®Œæˆï¼ŒåŒ…å«ï¼š
- 46ä¸ªä»£ç æ–‡ä»¶
- ~7,200è¡Œä»£ç å’Œæ–‡æ¡£
- å®Œæ•´çš„å‰åç«¯å®ç°
- è¯¦å°½çš„æ–‡æ¡£

## ğŸ“„ è®¸å¯è¯

è¯·æ ¹æ®é¡¹ç›®å®é™…æƒ…å†µæ·»åŠ è®¸å¯è¯ä¿¡æ¯ã€‚

## ğŸ†˜ æ”¯æŒ

### å¸¸è§é—®é¢˜
æŸ¥çœ‹ [é›†æˆæ¸…å•](App/INTEGRATION_CHECKLIST.md) ä¸­çš„æ•…éšœæ’é™¤éƒ¨åˆ†

### æ–‡æ¡£
- [å¿«é€Ÿå¼€å§‹](QUICK_START.md)
- [Flutteré›†æˆæŒ‡å—](App/FLUTTER_AI_INTEGRATION_GUIDE.md)
- [éƒ¨ç½²æŒ‡å—](Backend/DEPLOYMENT.md)

### å¤–éƒ¨èµ„æº
- [Supabaseæ–‡æ¡£](https://supabase.com/docs)
- [Gemini APIæ–‡æ¡£](https://ai.google.dev/docs)
- [Flutteræ–‡æ¡£](https://flutter.dev/docs)
- [Riverpodæ–‡æ¡£](https://riverpod.dev)

## ğŸ‰ å¼€å§‹ä½¿ç”¨

å‡†å¤‡å¥½äº†å—ï¼ŸæŸ¥çœ‹ [å¿«é€Ÿå¼€å§‹æŒ‡å—](QUICK_START.md) å¼€å§‹æ‚¨çš„AIä¹‹æ—…ï¼

---

**ç‰ˆæœ¬**: 1.0.0
**æœ€åæ›´æ–°**: 2025-10-17
**çŠ¶æ€**: âœ… æ ¸å¿ƒåŠŸèƒ½å®Œæˆï¼Œå‡†å¤‡é›†æˆæµ‹è¯•
